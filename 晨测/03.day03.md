# day03晨测
## 1. 原型概念
1. 什么是原型？
  原型指的是两个原型属性：prototype 和 __proto__
  为了更好描述：
    prototype 显示原型属性 
    __proto__ 隐式原型属性

2. 所有函数都有显示原型属性，它的值是一个对象，这个对象叫做原型对象
  constructor 构造方法: 值就是函数本身
  __proto__：值就是Object.prototype
    为什么？原型对象不是你new的，所以构造函数默认是Object
    特殊：Object.prototype.__proto__ === null

3. 所有对象（包括Function、Array）都有隐式原型属性，它的值是其构造函数的原型对象（其构造函数的显示原型的值）
  
  怎么找构造函数？
    所有数组都是new Array产生的实例对象，数组的构造函数就是Array
    所有函数（Object、Array..）都是new Function产生的实例对象，函数的构造函数就是Function
      特殊：Function也可以看做new Function产生的
      Function.__proto__ === Function.prototype
    普通对象如果是你new产生的，构造函数就是你new的那个函数
    普通对象如果不是你new产生的，构造函数默认Object

4. 原型链
  由多个__proto__(隐式原型属性)组成结构就是原型链
  作用: 用来查找属性/方法

## 2. 闭包
1. 什么是闭包？
  通过chrome调试查看，闭包是一个包含被引用的局部变量的“对象”，closure
  闭包存在嵌套的内部函数中
2. 闭包产生条件：
  - 函数嵌套
  - 内部函数引用外部函数的局部变量
  - 执行外部函数
3. 闭包作用
  延长函数局部变量存活时间(生命周期)
  让函数外部操作（读/写）函数内部的数据
4. 闭包的生命周期
  产生：内部函数定义执行完了
  死亡：当内部函数成为垃圾对象（内部函数没有任何变量引用），自动被垃圾回收机制回收释放
5. 闭包缺点：
  容易导致内存泄漏
    内存泄漏：占用了内存空间，没有及时释放
    内存溢出：将要使用内存超过了实际内存（程序会直接崩溃）
  解决：及时释放
    目的：当保存闭包内部函数成为垃圾对象  fn = null;
6. 闭包应用：
  高阶函数（执行函数返回值新函数） -->  React
  框架/库底层源码 --> Vue

## 3. 事件轮询机制
1. 事件轮询机制
  JS引擎执行异步代码机制
    同步代码 从上到下依次执行
    异步代码 等所有同步代码执行完，才可能开始执行

2. 流程：
  JS引擎会依次从上到下执行代码，同步代码依次执行，异步代码：
    1. 绑定DOM事件，将事件名和事件回调函数交给浏览器DOM事件管理模块，
    JS引擎接着执行后面代码    
      浏览器DOM事件管理模块会绑定DOM事件，一旦用户触发DOM事件，就会将相应回调函数
      添加到回调队列中
    2. 定时器，将回调函数和时间交给浏览器定时器管理模块，
      浏览器定时器管理模块会计时，到点了就会将相应回调函数添加到回调队列中
    JS引擎接着执行后面代码，直到全局所有代码全部执行完，开始事件轮询
    轮询回调队列，看里面是否有异步回调函数需要执行，如果有，就依次取出，同步执行
    如果没有，过会再来看看（死循环）

## 4. 手写函数节流

```js
function throttle(fn, time) {
  var lastTime = 0;
  return funciton () {
    var nowTime = Date.now();
    if (nowTime - lastTime < time) return;
    fn.apply(this, arguments);
    lastTime = nowTime;
  }
}
```